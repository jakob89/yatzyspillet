using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Windows.Forms;

namespace Yatzy
{
    public partial class Form1 : Form
    {
        public Form1()
        {
            InitializeComponent();
        }

        public Yatzy mitYatzy = new Yatzy();        //her opretter vi en instans af klassen Yatzy, så vi kan køre spillet Yatzy
        public Baeger mitBaeger = new Baeger(); // her newer man en instans af en klasse op, så man kan connecte en classe ind i formen. Dette gør, at klassen nu er brugbar i nedenstående.
        public Spiller Spiller1 = new Spiller();        //her opretter vi fire instanser af klassen Spiller, som er de spillere, der arbejds på i formen.
        public Spiller Spiller2 = new Spiller();
        public Spiller Spiller3 = new Spiller();
        public Spiller Spiller4 = new Spiller();

        

        private void buttonKastTerninger_Click(object sender, EventArgs e) // Dette er knappen Kaster Terninger
        {
            mitBaeger.RystBaeger();                                         // her kalder vi metode RystBaeger, som vi har erklæret inde i bæger. Den er brugbar, fordi vi har "new'et" den up inde i denne klasse.
            richTextBoxTerning1.Text = mitBaeger.Terning1.Øjne.ToString();  // her henviser vi til teksten i tekstboksen for den første terning. Vi beder den indeholde bægerets øjne pr. terning og konvertere to string.
            richTextBoxTerning2.Text = mitBaeger.Terning2.Øjne.ToString();
            richTextBoxTerning3.Text = mitBaeger.Terning3.Øjne.ToString();
            richTextBoxTerning4.Text = mitBaeger.Terning4.Øjne.ToString();
            richTextBoxTerning5.Text = mitBaeger.Terning5.Øjne.ToString();

            buttonVaelgMulighed.Enabled = true;         // her sætter vi "Vælg" knappen til at være aktiv, da knappen bliver inaktiv, når der er valgt én gang, så man ikke kan vælge flere resultater på samme tur. 

            Spiller1.Navn = textBoxSpiller1.Text;       //her sætter vi de fire spilleres navne til at være teksten fra de fire tekstboxe ude i GUI
            Spiller2.Navn = textBoxSpiller2.Text;
            Spiller3.Navn = textBoxSpiller3.Text;
            Spiller4.Navn = textBoxSpiller4.Text;

            VisMuligheder();        // her kalder vi metoden, der gør, at vi kan se alle mulighederne, hver gang terninger bliver kastet.
            TurTæller();            //her ligger turtælleren, og den er enormt central for designet. Den ligger på KastTerninger, fordi den er bundet op på hvert slag
            EnableStreger();        // her sætter vi alle streg-knapper til at være aktive igen. De inaktiveres, når én af knapperne bliver klikket på.

        }



        private void checkBoxHold1_CheckedChanged(object sender, EventArgs e)
        {
            if (checkBoxHold1.Checked == true)    //metode for at holde terning1 -- dette er en kontrolstruktur 
                mitBaeger.Terning1.HoldTerning();   //kalder metode inde fra terningen, som instruerer i at holde på terningen, når checkboxen er "vinget af".
            else
            {
                mitBaeger.Terning1.TagTerningMed(); // kalder metode inde fra terningen, som instruerer i at tage terningen med, hvis checboxen ikke er "vinget af". 
            }
        }

        private void checkBoxHold2_CheckedChanged(object sender, EventArgs e)
        {
            if (checkBoxHold2.Checked == true)    //samme som ovenstående. Gælder for alle fem.
                mitBaeger.Terning2.HoldTerning();
            else
            {
                mitBaeger.Terning2.TagTerningMed();
            }
        }

        private void checkBoxHold3_CheckedChanged(object sender, EventArgs e)
        {
            if (checkBoxHold3.Checked == true)    
                mitBaeger.Terning3.HoldTerning();
            else
            {
                mitBaeger.Terning3.TagTerningMed();
            }
        }

        private void checkBoxHold4_CheckedChanged(object sender, EventArgs e)
        {
            if (checkBoxHold4.Checked == true)    
                mitBaeger.Terning4.HoldTerning();
            else
            {
                mitBaeger.Terning4.TagTerningMed();
            }
        }

        private void checkBoxHold5_CheckedChanged(object sender, EventArgs e)
        {
            if (checkBoxHold5.Checked == true)    
                mitBaeger.Terning5.HoldTerning();
            else
            {
                mitBaeger.Terning5.TagTerningMed();
            }
        }

        private void DisableKastTeringer()      // bruges ved AntalSlagTilbage = 0. Genaktiveres, når der er valgt eller streget.
        {
            if(buttonKastTerninger.Enabled == true)     // skal man lave denne kontrolstruktur? Kunne man bare skrive buttonKastTerninger.Enabled = false; ?
            { buttonKastTerninger.Enabled = false; }
        }

        private void EnableKastTerninger()              // denne bruges til at genaktivere knappen for at kaste terninger.
        {
            if (buttonKastTerninger.Enabled == false)       // samme som ovenfor i Disable.
            { buttonKastTerninger.Enabled = true; }
        }

        private void EnableVælgMuligheder()     // bruges til at genaktiveres vælg-knappe, når der er skiftet tur.
        {
            if (buttonVaelgMulighed.Enabled == false)
            { buttonKastTerninger.Enabled = true; }
        }

        private void DisbleVælgMuligheder()         //bruges når der er valgt én mulighed, så du ikke kan vælge flere gange.
        {
            if (buttonVaelgMulighed.Enabled == true)
            { buttonKastTerninger.Enabled = false; }
        }

        private void ResetCheckbox()             //denne metode kaldes, når vi skal have ryddet alle holds på terningerne. Vigtig når der skiftes tur
            {
            if(checkBoxHold1.Checked == true)       // vi checker om de er "vinget af", og hvis de er...
            { checkBoxHold1.Checked = false; }      // sætter vi dem til at være blanke
            if (checkBoxHold2.Checked == true)
            { checkBoxHold2.Checked = false; }
            if (checkBoxHold3.Checked == true)
            { checkBoxHold3.Checked = false; }
            if (checkBoxHold4.Checked == true)
            { checkBoxHold4.Checked = false; }
            if (checkBoxHold5.Checked == true)
            { checkBoxHold5.Checked = false; }
        }

        private int SpillerNr = 1;              //denne variable indeholder en int og er central for at styre, hvem der er aktiv spiller
        private int AntalSlagTilbage = 3;       // vi skal sætte denne til at være 3, så den aller første tur i spillet indeholde tre slag.

        public void TurTæller()             //metode for turtælleren
        {
            if (AntalSlagTilbage == 0)      // vi tjekker om, der er flere slag tilbage for nuværende tur.
            {
                AntalSlagTilbage = 2;           // hvis dette er tilfældet, sætter vi antalslagtilbage til at være to, fordi rullet i turskiftet tæller med som et slag- derfor ikke 3

                if (SpillerNr == 4)     // vi tjekker, om det er spiller 4, der er aktiv.
                { SpillerNr = 1; }      // hvis det er tilfældet, resetter vi det til at være 1, så den ruller forfra fra 1-4
                else {
                    SpillerNr = SpillerNr + 1;      // hvis SpillerNr ikke er 4, tilføjer den +1 til spillernr. Derfor er det smart, at det er en int.
                 }
            }
            else { AntalSlagTilbage = AntalSlagTilbage - 1;}  // hvis antalslagtilbage ikke er =0, trækker den -1 fra 

            if (SpillerNr == 1)                                 //det er i disse fire kontrolstrukturer og tilhørende linjer, at vi binder spillernr sammen med den aktive spiller og henter dem fra Yatzy-klassen
            { mitYatzy.AktivSpiller = mitYatzy._spiller1; }
            if (SpillerNr == 2)
            { mitYatzy.AktivSpiller = mitYatzy._spiller2; }
            if (SpillerNr == 3)
            { mitYatzy.AktivSpiller = mitYatzy._spiller3; }
            if (SpillerNr == 4)
            { mitYatzy.AktivSpiller = mitYatzy._spiller4; }

            textBoxVisAktivSpiller.Text = mitYatzy.AktivSpiller.Navn.ToString();        //når ovenstående kobler _spiller1,2,3,4 til SpillerNr kan vi hente navnet fra textboxene og "sette" den string ind i aktiv spillers Navn
            textBoxVisKastTilbage.Text = AntalSlagTilbage.ToString();               //her viser vi antalslagtilbage ude i tekstboksen

            if (AntalSlagTilbage == 0) // dette statement gør, at man ikke kan klikke på Ryst Terninger, inden man har valgt. Dermed skifter turen på de to knapper: Vælg og Kast Terninger
                DisableKastTeringer();
         }

      
        private void ClearText()
        {
            foreach (Control c in Controls)     //HJÆLP DAVID
            {
                if (c is TextBox)
                {
                    c.Text = "";
                }
                if (c is RichTextBox)
                {
                    c.Text = "";
                }
            }
            listBoxMuligheder.Items.Clear();
        }

      

        public void VisMuligheder()     //denne metode gør, at vi kan se, hvilke muligheder bægeret præsenterer for os
        {
            listBoxMuligheder.Items.Clear();        // i starten af metoden sørger vi for at cleare listboxen fra sidste tur.

            if (mitBaeger.PointEttere() > 0) { listBoxMuligheder.Items.Add("Ettere"); }         // i alle disse laver vi først et tjek. Er værdien, som returneres fra bægeret større end 0?...
            if (mitBaeger.PointToere() > 0) { listBoxMuligheder.Items.Add("Toere"); }           // så tilføjer man et "item" i listboxen, som vi giver en string. Det er navnet i listen...
            if (mitBaeger.PointTreere() > 0) { listBoxMuligheder.Items.Add("Treere"); }         // og også navnet som vi bruger i switchcasen længere nede
            if (mitBaeger.PointFirere() > 0) { listBoxMuligheder.Items.Add("Firere"); }
            if (mitBaeger.PointFemmere() > 0) { listBoxMuligheder.Items.Add("Femmere"); }
            if (mitBaeger.PointSeksere() > 0) { listBoxMuligheder.Items.Add("Seksere"); }
            if (mitBaeger.PointEtPar() > 0) { listBoxMuligheder.Items.Add("Et par"); }
            if (mitBaeger.PointToPar() > 0) { listBoxMuligheder.Items.Add("To par"); }
            if (mitBaeger.PointTreEns() > 0) { listBoxMuligheder.Items.Add("Tre ens"); }
            if (mitBaeger.PointFireEns() > 0) { listBoxMuligheder.Items.Add("Fire ens"); }
            if (mitBaeger.PointFuldHus() > 0) { listBoxMuligheder.Items.Add("Fuld hus"); }
            if (mitBaeger.PointLilleTrappe() > 0) { listBoxMuligheder.Items.Add("Lille trappe"); }
            if (mitBaeger.PointStorTrappe() > 0) { listBoxMuligheder.Items.Add("Stor trappe"); }
            if (mitBaeger.PointChance() > 0) { listBoxMuligheder.Items.Add("Chance"); }
            if (mitBaeger.PointYatzy() > 0) { listBoxMuligheder.Items.Add("Yatzy"); }
            

        }

       

        public void buttonNytSpil_Click(object sender, EventArgs e)     //her klikker vi på knappen nyt spil
        {
            ClearText();     //rydder alle textboxe, som vi har defineret tidligere 

            EnableAlt();     //her kalder vi metoden, som enabler alle knapper og tekstfelter til navne.

            mitYatzy.NytSpil(Spiller1, Spiller2, Spiller3, Spiller4); //opretter et nyt spil, som indeholder de fire spillere, som vi new'ede op i toppen

            SpillerNr = 1;          // vi sætter spillernr til at være 1, så den resetter ved valget
            AntalSlagTilbage = 3;   // samme 
        }

        public void EnableStreger()     // denne metode gør alle knapperne for at strege aktive
        {
            buttonStregEttere.Enabled = true;
            buttonStregToere.Enabled = true;
            buttonStregTreere.Enabled = true;
            buttonStregFirere.Enabled = true;
            buttonStregFemmere.Enabled = true;
            buttonStregSeksere.Enabled = true;
            buttonStregEtPar.Enabled = true;
            buttonStregToPar.Enabled = true;
            buttonStregTreEns.Enabled = true;
            buttonStregFireEns.Enabled = true;
            buttonStregFuldHus.Enabled = true;
            buttonStregLilleTrappe.Enabled = true;
            buttonStregStorTrappe.Enabled = true;
            buttonStregChance.Enabled = true;
            buttonStregYatzy.Enabled = true;
        }

        public void DisableStreger()            //denne metode gør alle knapper for at strege inaktive
        {
            buttonStregEttere.Enabled = false;
            buttonStregToere.Enabled = false;
            buttonStregTreere.Enabled = false;
            buttonStregFirere.Enabled = false;
            buttonStregFemmere.Enabled = false;
            buttonStregSeksere.Enabled = false;
            buttonStregEtPar.Enabled = false;
            buttonStregToPar.Enabled = false;
            buttonStregTreEns.Enabled = false;
            buttonStregFireEns.Enabled = false;
            buttonStregFuldHus.Enabled = false;
            buttonStregLilleTrappe.Enabled = false;
            buttonStregStorTrappe.Enabled = false;
            buttonStregChance.Enabled = false;
            buttonStregYatzy.Enabled = false;            
        }

        public void EnableAlt()         //denne metode enabler alle checkboxe, textboxe og knapperne
        {
            listBoxMuligheder.Enabled = true;
            buttonKastTerninger.Enabled = true;
            buttonVaelgMulighed.Enabled = true;
            textBoxSpiller1.Enabled = true;
            textBoxSpiller2.Enabled = true;
            textBoxSpiller3.Enabled = true;
            textBoxSpiller4.Enabled = true;
            checkBoxHold1.Enabled = true;
            checkBoxHold2.Enabled = true;
            checkBoxHold3.Enabled = true;
            checkBoxHold4.Enabled = true;
            checkBoxHold5.Enabled = true;
        }

        private void buttonVaelgMulighed_Click_1(object sender, EventArgs e) // denne knap kører en switchcase på alle de muligheder, som de kastede terninger viser.
                                                                             // de angivede strings ud for case henviser til navnene på items i listBoxen
        {
            switch (listBoxMuligheder.Text)
            {
                case "Ettere":      //"Ettere" henviser til listboxens item, som vi tilføjede
                    {
                        mitYatzy.AktivSpiller.Kombinationer.Ettere.Point = mitBaeger.PointEttere(); // her sætter vi pointene for ettere under den aktive spilleres kombinationer i mitYatzy til at være pointene fra ettere i bægeret
                        if (mitYatzy.AktivSpiller == mitYatzy._spiller1)                            // de fire nedenstående if-statements tjekker for, hvem der er den aktive spillere...
                        { textBoxEttereP1.Text = Convert.ToString(mitBaeger.PointEttere()); }       //og overfører så pointene fra bægere til den rette tekstbox
                        else if (mitYatzy.AktivSpiller == mitYatzy._spiller2)                       // og så frem deles for alle switch casene
                        { textBoxEttereP2.Text = Convert.ToString(mitBaeger.PointEttere()); }
                        else if (mitYatzy.AktivSpiller == mitYatzy._spiller3)
                        { textBoxEttereP3.Text = Convert.ToString(mitBaeger.PointEttere()); }
                        else if (mitYatzy.AktivSpiller == mitYatzy._spiller4)
                        { textBoxEttereP4.Text = Convert.ToString(mitBaeger.PointEttere()); }
                        break;
                    }
                case "Toere":
                    {
                        mitYatzy.AktivSpiller.Kombinationer.Toere.Point = mitBaeger.PointToere();
                        if (mitYatzy.AktivSpiller == mitYatzy._spiller1)
                        { textBoxToereP1.Text = Convert.ToString(mitBaeger.PointToere()); }
                        else if (mitYatzy.AktivSpiller == mitYatzy._spiller2)
                        { textBoxToereP2.Text = Convert.ToString(mitBaeger.PointToere()); }
                        else if (mitYatzy.AktivSpiller == mitYatzy._spiller3)
                        { textBoxToereP3.Text = Convert.ToString(mitBaeger.PointToere()); }
                        else if (mitYatzy.AktivSpiller == mitYatzy._spiller4)
                        { textBoxToereP4.Text = Convert.ToString(mitBaeger.PointToere()); }
                        break;
                    }
                case "Treere":
                    {
                        mitYatzy.AktivSpiller.Kombinationer.Treere.Point = mitBaeger.PointTreere();
                        if (mitYatzy.AktivSpiller == mitYatzy._spiller1)
                        { textBoxTreereP1.Text = Convert.ToString(mitBaeger.PointTreere()); }
                        else if (mitYatzy.AktivSpiller == mitYatzy._spiller2)
                        { textBoxTreereP2.Text = Convert.ToString(mitBaeger.PointTreere()); }
                        else if (mitYatzy.AktivSpiller == mitYatzy._spiller3)
                        { textBoxTreereP3.Text = Convert.ToString(mitBaeger.PointTreere()); }
                        else if (mitYatzy.AktivSpiller == mitYatzy._spiller4)
                        { textBoxTreereP4.Text = Convert.ToString(mitBaeger.PointTreere()); }
                        break;
                    }
                case "Firere":
                    {
                        mitYatzy.AktivSpiller.Kombinationer.Firere.Point = mitBaeger.PointFirere();
                        if (mitYatzy.AktivSpiller == mitYatzy._spiller1)
                        { textBoxFirereP1.Text = Convert.ToString(mitBaeger.PointFirere()); }
                        else if (mitYatzy.AktivSpiller == mitYatzy._spiller2)
                        { textBoxFirereP2.Text = Convert.ToString(mitBaeger.PointFirere()); }
                        else if (mitYatzy.AktivSpiller == mitYatzy._spiller3)
                        { textBoxFirereP3.Text = Convert.ToString(mitBaeger.PointFirere()); }
                        else if (mitYatzy.AktivSpiller == mitYatzy._spiller4)
                        { textBoxFirereP4.Text = Convert.ToString(mitBaeger.PointFirere()); }
                        break;
                    }
                case "Femmere":
                    {
                        mitYatzy.AktivSpiller.Kombinationer.Femmere.Point = mitBaeger.PointFemmere();
                        if (mitYatzy.AktivSpiller == mitYatzy._spiller1)
                        { textBoxFemmereP1.Text = Convert.ToString(mitBaeger.PointFemmere()); }
                        else if (mitYatzy.AktivSpiller == mitYatzy._spiller2)
                        { textBoxFemmereP2.Text = Convert.ToString(mitBaeger.PointFemmere()); }
                        else if (mitYatzy.AktivSpiller == mitYatzy._spiller3)
                        { textBoxFemmereP3.Text = Convert.ToString(mitBaeger.PointFemmere()); }
                        else if (mitYatzy.AktivSpiller == mitYatzy._spiller4)
                        { textBoxFemmereP4.Text = Convert.ToString(mitBaeger.PointFemmere()); }
                        break;
                    }
                case "Seksere":
                    {
                        mitYatzy.AktivSpiller.Kombinationer.Seksere.Point = mitBaeger.PointSeksere();
                        if (mitYatzy.AktivSpiller == mitYatzy._spiller1)
                        { textBoxSeksereP1.Text = Convert.ToString(mitBaeger.PointSeksere()); }
                        else if (mitYatzy.AktivSpiller == mitYatzy._spiller2)
                        { textBoxSeksereP2.Text = Convert.ToString(mitBaeger.PointSeksere()); }
                        else if (mitYatzy.AktivSpiller == mitYatzy._spiller3)
                        { textBoxSeksereP3.Text = Convert.ToString(mitBaeger.PointSeksere()); }
                        else if (mitYatzy.AktivSpiller == mitYatzy._spiller4)
                        { textBoxSeksereP4.Text = Convert.ToString(mitBaeger.PointSeksere()); }
                        break;
                    }
                case "Et par":
                    {
                        mitYatzy.AktivSpiller.Kombinationer.EtPar.Point = mitBaeger.PointEtPar();
                        if (mitYatzy.AktivSpiller == mitYatzy._spiller1)
                        { textBoxEtParP1.Text = Convert.ToString(mitBaeger.PointEtPar()); }
                        else if (mitYatzy.AktivSpiller == mitYatzy._spiller2)
                        { textBoxEtParP2.Text = Convert.ToString(mitBaeger.PointEtPar()); }
                        else if (mitYatzy.AktivSpiller == mitYatzy._spiller3)
                        { textBoxEtParP3.Text = Convert.ToString(mitBaeger.PointEtPar()); }
                        else if (mitYatzy.AktivSpiller == mitYatzy._spiller4)
                        { textBoxEtParP4.Text = Convert.ToString(mitBaeger.PointEtPar()); }
                        break;
                    }
                case "To par":
                    {
                        mitYatzy.AktivSpiller.Kombinationer.ToPar.Point = mitBaeger.PointToPar();
                        if (mitYatzy.AktivSpiller == mitYatzy._spiller1)
                        { textBoxToParP1.Text = Convert.ToString(mitBaeger.PointToPar()); }
                        else if (mitYatzy.AktivSpiller == mitYatzy._spiller2)
                        { textBoxToParP2.Text = Convert.ToString(mitBaeger.PointToPar()); }
                        else if (mitYatzy.AktivSpiller == mitYatzy._spiller3)
                        { textBoxToParP3.Text = Convert.ToString(mitBaeger.PointToPar()); }
                        else if (mitYatzy.AktivSpiller == mitYatzy._spiller4)
                        { textBoxToParP4.Text = Convert.ToString(mitBaeger.PointToPar()); }
                        break;
                    }
                case "Tre ens":
                    {
                        mitYatzy.AktivSpiller.Kombinationer.TreEns.Point = mitBaeger.PointTreEns();
                        if (mitYatzy.AktivSpiller == mitYatzy._spiller1)
                        { textBoxTreEnsP1.Text = Convert.ToString(mitBaeger.PointTreEns()); }
                        else if (mitYatzy.AktivSpiller == mitYatzy._spiller2)
                        { textBoxTreEnsP2.Text = Convert.ToString(mitBaeger.PointTreEns()); }
                        else if (mitYatzy.AktivSpiller == mitYatzy._spiller3)
                        { textBoxTreEnsP3.Text = Convert.ToString(mitBaeger.PointTreEns()); }
                        else if (mitYatzy.AktivSpiller == mitYatzy._spiller4)
                        { textBoxTreEnsP4.Text = Convert.ToString(mitBaeger.PointTreEns()); }
                        break;
                    }
                case "Fire ens":
                    {
                        mitYatzy.AktivSpiller.Kombinationer.FireEns.Point = mitBaeger.PointFireEns();
                        if (mitYatzy.AktivSpiller == mitYatzy._spiller1)
                        { textBoxFireEnsP1.Text = Convert.ToString(mitBaeger.PointFireEns()); }
                        else if (mitYatzy.AktivSpiller == mitYatzy._spiller2)
                        { textBoxFireEnsP2.Text = Convert.ToString(mitBaeger.PointFireEns()); }
                        else if (mitYatzy.AktivSpiller == mitYatzy._spiller3)
                        { textBoxFireEnsP3.Text = Convert.ToString(mitBaeger.PointFireEns()); }
                        else if (mitYatzy.AktivSpiller == mitYatzy._spiller4)
                        { textBoxFireEnsP4.Text = Convert.ToString(mitBaeger.PointFireEns()); }
                        break;
                    }
                case "Fuld hus":
                    {
                        mitYatzy.AktivSpiller.Kombinationer.FuldHus.Point = mitBaeger.PointFuldHus();
                        if (mitYatzy.AktivSpiller == mitYatzy._spiller1)
                        { textBoxFuldtHusP1.Text = Convert.ToString(mitBaeger.PointFuldHus()); }
                        else if (mitYatzy.AktivSpiller == mitYatzy._spiller2)
                        { textBoxFuldtHusP2.Text = Convert.ToString(mitBaeger.PointFuldHus()); }
                        else if (mitYatzy.AktivSpiller == mitYatzy._spiller3)
                        { textBoxFuldtHusP3.Text = Convert.ToString(mitBaeger.PointFuldHus()); }
                        else if (mitYatzy.AktivSpiller == mitYatzy._spiller4)
                        { textBoxFuldtHusP4.Text = Convert.ToString(mitBaeger.PointFuldHus()); }
                        break;
                    }
                case "Lille trappe":
                    {
                        mitYatzy.AktivSpiller.Kombinationer.LilleTrappe.Point = mitBaeger.PointLilleTrappe();
                        if (mitYatzy.AktivSpiller == mitYatzy._spiller1)
                        { textBoxLilleTrappeP1.Text = Convert.ToString(mitBaeger.PointLilleTrappe()); }
                        else if (mitYatzy.AktivSpiller == mitYatzy._spiller2)
                        { textBoxLilleTrappeP2.Text = Convert.ToString(mitBaeger.PointLilleTrappe()); }
                        else if (mitYatzy.AktivSpiller == mitYatzy._spiller3)
                        { textBoxLilleTrappeP3.Text = Convert.ToString(mitBaeger.PointLilleTrappe()); }
                        else if (mitYatzy.AktivSpiller == mitYatzy._spiller4)
                        { textBoxLilleTrappeP4.Text = Convert.ToString(mitBaeger.PointLilleTrappe()); }
                        break;
                    }
                case "Stor trappe":
                    {
                        mitYatzy.AktivSpiller.Kombinationer.StorTrappe.Point = mitBaeger.PointStorTrappe();
                        if (mitYatzy.AktivSpiller == mitYatzy._spiller1)
                        { textBoxStorTrappeP1.Text = Convert.ToString(mitBaeger.PointStorTrappe()); }
                        else if (mitYatzy.AktivSpiller == mitYatzy._spiller2)
                        { textBoxStorTrappeP2.Text = Convert.ToString(mitBaeger.PointStorTrappe()); }
                        else if (mitYatzy.AktivSpiller == mitYatzy._spiller3)
                        { textBoxStorTrappeP3.Text = Convert.ToString(mitBaeger.PointStorTrappe()); }
                        else if (mitYatzy.AktivSpiller == mitYatzy._spiller4)
                        { textBoxStorTrappeP4.Text = Convert.ToString(mitBaeger.PointStorTrappe()); }
                        break;
                    }
                case "Chance":
                    {
                        mitYatzy.AktivSpiller.Kombinationer.Chance.Point = mitBaeger.PointChance();
                        if (mitYatzy.AktivSpiller == mitYatzy._spiller1)
                        { textBoxChanceP1.Text = Convert.ToString(mitBaeger.PointChance()); }
                        else if (mitYatzy.AktivSpiller == mitYatzy._spiller2)
                        { textBoxChanceP2.Text = Convert.ToString(mitBaeger.PointChance()); }
                        else if (mitYatzy.AktivSpiller == mitYatzy._spiller3)
                        { textBoxChanceP3.Text = Convert.ToString(mitBaeger.PointChance()); }
                        else if (mitYatzy.AktivSpiller == mitYatzy._spiller4)
                        { textBoxChanceP4.Text = Convert.ToString(mitBaeger.PointChance()); }
                        break;
                    }
                case "Yatzy":
                    {
                        mitYatzy.AktivSpiller.Kombinationer.Yatzy.Point = mitBaeger.PointYatzy();
                        if (mitYatzy.AktivSpiller == mitYatzy._spiller1)
                        { textBoxYatzyP1.Text = Convert.ToString(mitBaeger.PointYatzy()); }
                        else if (mitYatzy.AktivSpiller == mitYatzy._spiller2)
                        { textBoxYatzyP2.Text = Convert.ToString(mitBaeger.PointYatzy()); }
                        else if (mitYatzy.AktivSpiller == mitYatzy._spiller3)
                        { textBoxYatzyP3.Text = Convert.ToString(mitBaeger.PointYatzy()); }
                        else if (mitYatzy.AktivSpiller == mitYatzy._spiller4)
                        { textBoxYatzyP4.Text = Convert.ToString(mitBaeger.PointYatzy()); }
                        break;
                    }
            }
            AntalSlagTilbage = 0;       // dette statement gør, at turen slutter, når en spiller har valgt.
            ResetCheckbox();            // herefter cleares alle checkboxene
            EnableKastTerninger();      // og du får igen mulighed for at kaste terningerne, når antalslagtilbage = 0

            //neden for overfører vi sum, bonus og total til GUI'en. Starter med SimpelSum
            textBoxSumP1.Text = mitYatzy._spiller1.Kombinationer.SimpelSum.ToString();          //dette er placeret på vælg mulighed, fordi tallene opdateres, hver gang man vælger.
            textBoxSumP2.Text = mitYatzy._spiller2.Kombinationer.SimpelSum.ToString();          // man kunne også have lagt det på kast terninger, men det giver bedst mening her,...
            textBoxSumP3.Text = mitYatzy._spiller3.Kombinationer.SimpelSum.ToString();          // da det er på denne knap, at der ændres i pointene
            textBoxSumP4.Text = mitYatzy._spiller4.Kombinationer.SimpelSum.ToString();

            //Bonus
            textBoxBonusP1.Text = mitYatzy._spiller1.Kombinationer.Bonus.ToString();
            textBoxBonusP2.Text = mitYatzy._spiller2.Kombinationer.Bonus.ToString();
            textBoxBonusP3.Text = mitYatzy._spiller3.Kombinationer.Bonus.ToString();
            textBoxBonusP4.Text = mitYatzy._spiller4.Kombinationer.Bonus.ToString();

            //Total
            textBoxTotalP1.Text = mitYatzy._spiller1.Kombinationer.Total.ToString();
            textBoxTotalP2.Text = mitYatzy._spiller2.Kombinationer.Total.ToString();
            textBoxTotalP3.Text = mitYatzy._spiller3.Kombinationer.Total.ToString();
            textBoxTotalP4.Text = mitYatzy._spiller4.Kombinationer.Total.ToString();

            buttonVaelgMulighed.Enabled = false;                // dette statement gør, at knappen deaktiveres, når du har trykket på den én gang. Derfor kan du vælge én gang pr. tur.
        }

        #region Streger
        private void buttonStregEttere_Click(object sender, EventArgs e)        //klik på stregerknappen for ettere. Nedenstående kode er ens for alle. Kunne man lave fælles metode?
        {
            if (mitYatzy.AktivSpiller == mitYatzy._spiller1)        //kontrol: er aktivspiller=spiller1?
            { textBoxEttereP1.Text = "------"; }                    // så sætter vi en string i tekstfeltet med en streg
            if (mitYatzy.AktivSpiller == mitYatzy._spiller2)        //samme osv.
            { textBoxEttereP2.Text = "------"; }
            if (mitYatzy.AktivSpiller == mitYatzy._spiller3)
            { textBoxEttereP3.Text = "------"; }
            if (mitYatzy.AktivSpiller == mitYatzy._spiller4)
            { textBoxEttereP4.Text = "-----"; }
            AntalSlagTilbage = 0;                                   // dette gør, at man mister sin tur, når man har streget
            buttonVaelgMulighed.Enabled = false;                    // dette gør, at du ikke kan vælge, når du har streget
            buttonKastTerninger.Enabled = true;                     // dette gør, at du kan kaste terningerne, selvom der ikke er flere slag, når du har streget.
            DisableStreger();                                       // denne metode deaktivere alle knapper, der kan strege, så du ikke kan strege flere på én tur
            ResetCheckbox();                                        // her clearer vi checkboxe, så man ikke trækker sine hold med over i næste tur efter en stregning.
        }

        private void buttonStregToere_Click(object sender, EventArgs e)
        {
            if (mitYatzy.AktivSpiller == mitYatzy._spiller1)
            { textBoxToereP1.Text = "------"; }
            if (mitYatzy.AktivSpiller == mitYatzy._spiller2)
            { textBoxToereP2.Text = "------"; }
            if (mitYatzy.AktivSpiller == mitYatzy._spiller3)
            { textBoxToereP3.Text = "------"; }
            if (mitYatzy.AktivSpiller == mitYatzy._spiller4)
            { textBoxToereP4.Text = "------"; }
            AntalSlagTilbage = 0;
            buttonVaelgMulighed.Enabled = false;
            buttonKastTerninger.Enabled = true;
            DisableStreger();
            ResetCheckbox();
        }

        private void buttonStregTreere_Click(object sender, EventArgs e)
        {
            if (mitYatzy.AktivSpiller == mitYatzy._spiller1)
            { textBoxTreereP1.Text = "------"; }
            if (mitYatzy.AktivSpiller == mitYatzy._spiller2)
            { textBoxTreereP2.Text = "------"; }
            if (mitYatzy.AktivSpiller == mitYatzy._spiller3)
            { textBoxTreereP3.Text = "------"; }
            if (mitYatzy.AktivSpiller == mitYatzy._spiller4)
            { textBoxTreereP4.Text = "------"; }
            AntalSlagTilbage = 0;
            buttonVaelgMulighed.Enabled = false;
            buttonKastTerninger.Enabled = true;
            DisableStreger();
            ResetCheckbox();
        }

        private void buttonStregFirere_Click(object sender, EventArgs e)
        {
            if (mitYatzy.AktivSpiller == mitYatzy._spiller1)
            { textBoxFirereP1.Text = "------"; }
            if (mitYatzy.AktivSpiller == mitYatzy._spiller2)
            { textBoxFirereP2.Text = "------"; }
            if (mitYatzy.AktivSpiller == mitYatzy._spiller3)
            { textBoxFirereP3.Text = "------"; }
            if (mitYatzy.AktivSpiller == mitYatzy._spiller4)
            { textBoxFirereP4.Text = "------"; }
            AntalSlagTilbage = 0;
            buttonVaelgMulighed.Enabled = false;
            buttonKastTerninger.Enabled = true;
            DisableStreger();
            ResetCheckbox();
        }

        private void buttonStregFemmere_Click(object sender, EventArgs e)
        {
            if (mitYatzy.AktivSpiller == mitYatzy._spiller1)
            { textBoxFemmereP1.Text = "------"; }
            if (mitYatzy.AktivSpiller == mitYatzy._spiller2)
            { textBoxFemmereP2.Text = "------"; }
            if (mitYatzy.AktivSpiller == mitYatzy._spiller3)
            { textBoxFemmereP3.Text = "------"; }
            if (mitYatzy.AktivSpiller == mitYatzy._spiller4)
            { textBoxFemmereP4.Text = "------"; }
            AntalSlagTilbage = 0;
            buttonVaelgMulighed.Enabled = false;
            buttonKastTerninger.Enabled = true;
            DisableStreger();
            ResetCheckbox();
        }

        private void buttonStregSeksere_Click(object sender, EventArgs e)
        {
            if (mitYatzy.AktivSpiller == mitYatzy._spiller1)
            { textBoxSeksereP1.Text = "------"; }
            if (mitYatzy.AktivSpiller == mitYatzy._spiller2)
            { textBoxSeksereP2.Text = "------"; }
            if (mitYatzy.AktivSpiller == mitYatzy._spiller3)
            { textBoxSeksereP3.Text = "------"; }
            if (mitYatzy.AktivSpiller == mitYatzy._spiller4)
            { textBoxSeksereP4.Text = "------"; }
            AntalSlagTilbage = 0;
            buttonVaelgMulighed.Enabled = false;
            buttonKastTerninger.Enabled = true;
            DisableStreger();
            ResetCheckbox();
        }

        private void buttonStregEtPar_Click(object sender, EventArgs e)
        {
            if (mitYatzy.AktivSpiller == mitYatzy._spiller1)
            { textBoxEtParP1.Text = "------"; }
            if (mitYatzy.AktivSpiller == mitYatzy._spiller2)
            { textBoxEtParP2.Text = "------"; }
            if (mitYatzy.AktivSpiller == mitYatzy._spiller3)
            { textBoxEtParP3.Text = "------"; }
            if (mitYatzy.AktivSpiller == mitYatzy._spiller4)
            { textBoxEtParP4.Text = "------"; }
            AntalSlagTilbage = 0;
            buttonVaelgMulighed.Enabled = false;
            buttonKastTerninger.Enabled = true;
            DisableStreger();
            ResetCheckbox();
        }

        private void buttonStregToPar_Click(object sender, EventArgs e)
        {
            if (mitYatzy.AktivSpiller == mitYatzy._spiller1)
            { textBoxToParP1.Text = "------"; }
            if (mitYatzy.AktivSpiller == mitYatzy._spiller2)
            { textBoxToParP2.Text = "------"; }
            if (mitYatzy.AktivSpiller == mitYatzy._spiller3)
            { textBoxToParP3.Text = "------"; }
            if (mitYatzy.AktivSpiller == mitYatzy._spiller4)
            { textBoxToParP4.Text = "------"; }
            AntalSlagTilbage = 0;
            buttonVaelgMulighed.Enabled = false;
            buttonKastTerninger.Enabled = true;
            DisableStreger();
            ResetCheckbox();
        }

        private void buttonStregTreEns_Click(object sender, EventArgs e)
        {
            if (mitYatzy.AktivSpiller == mitYatzy._spiller1)
            { textBoxTreEnsP1.Text = "------"; }
            if (mitYatzy.AktivSpiller == mitYatzy._spiller2)
            { textBoxTreEnsP2.Text = "------"; }
            if (mitYatzy.AktivSpiller == mitYatzy._spiller3)
            { textBoxTreEnsP3.Text = "------"; }
            if (mitYatzy.AktivSpiller == mitYatzy._spiller4)
            { textBoxTreEnsP4.Text = "------"; }
            AntalSlagTilbage = 0;
            buttonVaelgMulighed.Enabled = false;
            buttonKastTerninger.Enabled = true;
            DisableStreger();
            ResetCheckbox();
        }

        private void buttonStregFireEns_Click(object sender, EventArgs e)
        {
            if (mitYatzy.AktivSpiller == mitYatzy._spiller1)
            { textBoxFireEnsP1.Text = "------"; }
            if (mitYatzy.AktivSpiller == mitYatzy._spiller2)
            { textBoxFireEnsP2.Text = "------"; }
            if (mitYatzy.AktivSpiller == mitYatzy._spiller3)
            { textBoxFireEnsP3.Text = "------"; }
            if (mitYatzy.AktivSpiller == mitYatzy._spiller4)
            { textBoxFireEnsP4.Text = "------"; }
            AntalSlagTilbage = 0;
            buttonVaelgMulighed.Enabled = false;
            buttonKastTerninger.Enabled = true;
            DisableStreger();
            ResetCheckbox();
        }

        private void buttonStregFuldHus_Click(object sender, EventArgs e)
        {
            if (mitYatzy.AktivSpiller == mitYatzy._spiller1)
            { textBoxFuldtHusP1.Text = "------"; }
            if (mitYatzy.AktivSpiller == mitYatzy._spiller2)
            { textBoxFuldtHusP2.Text = "------"; }
            if (mitYatzy.AktivSpiller == mitYatzy._spiller3)
            { textBoxFuldtHusP3.Text = "------"; }
            if (mitYatzy.AktivSpiller == mitYatzy._spiller4)
            { textBoxFuldtHusP4.Text = "------"; }
            AntalSlagTilbage = 0;
            buttonVaelgMulighed.Enabled = false;
            buttonKastTerninger.Enabled = true;
            DisableStreger();
            ResetCheckbox();
        }

        private void buttonStregLilleTrappe_Click(object sender, EventArgs e)
        {
            if (mitYatzy.AktivSpiller == mitYatzy._spiller1)
            { textBoxLilleTrappeP1.Text = "------"; }
            if (mitYatzy.AktivSpiller == mitYatzy._spiller2)
            { textBoxLilleTrappeP2.Text = "------"; }
            if (mitYatzy.AktivSpiller == mitYatzy._spiller3)
            { textBoxLilleTrappeP3.Text = "------"; }
            if (mitYatzy.AktivSpiller == mitYatzy._spiller4)
            { textBoxLilleTrappeP4.Text = "------"; }
            AntalSlagTilbage = 0;
            buttonVaelgMulighed.Enabled = false;
            buttonKastTerninger.Enabled = true;
            DisableStreger();
            ResetCheckbox();
        }

        private void buttonStregStorTrappe_Click(object sender, EventArgs e)
        {
            if (mitYatzy.AktivSpiller == mitYatzy._spiller1)
            { textBoxStorTrappeP1.Text = "------"; }
            if (mitYatzy.AktivSpiller == mitYatzy._spiller2)
            { textBoxStorTrappeP2.Text = "------"; }
            if (mitYatzy.AktivSpiller == mitYatzy._spiller3)
            { textBoxStorTrappeP3.Text = "------"; }
            if (mitYatzy.AktivSpiller == mitYatzy._spiller4)
            { textBoxStorTrappeP4.Text = "------"; }
            AntalSlagTilbage = 0;
            buttonVaelgMulighed.Enabled = false;
            buttonKastTerninger.Enabled = true;
            DisableStreger();
            ResetCheckbox();
        }

        private void buttonStregChance_Click(object sender, EventArgs e)
        {
            if (mitYatzy.AktivSpiller == mitYatzy._spiller1)
            { textBoxChanceP1.Text = "------"; }
            if (mitYatzy.AktivSpiller == mitYatzy._spiller2)
            { textBoxChanceP2.Text = "------"; }
            if (mitYatzy.AktivSpiller == mitYatzy._spiller3)
            { textBoxChanceP3.Text = "------"; }
            if (mitYatzy.AktivSpiller == mitYatzy._spiller4)
            { textBoxChanceP4.Text = "------"; }
            AntalSlagTilbage = 0;
            buttonVaelgMulighed.Enabled = false;
            buttonKastTerninger.Enabled = true;
            DisableStreger();
            ResetCheckbox();
        }

        private void buttonStregYatzy_Click(object sender, EventArgs e)
        {
            if (mitYatzy.AktivSpiller == mitYatzy._spiller1)
            { textBoxYatzyP1.Text = "------"; }
            if (mitYatzy.AktivSpiller == mitYatzy._spiller2)
            { textBoxYatzyP2.Text = "------"; }
            if (mitYatzy.AktivSpiller == mitYatzy._spiller3)
            { textBoxYatzyP3.Text = "------"; }
            if (mitYatzy.AktivSpiller == mitYatzy._spiller4)
            { textBoxYatzyP4.Text = "------"; }
            AntalSlagTilbage = 0;
            buttonVaelgMulighed.Enabled = false;
            buttonKastTerninger.Enabled = true;
            DisableStreger();
            ResetCheckbox();
        }
        #endregion
    }
}
