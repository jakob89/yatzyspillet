using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Windows.Forms;

namespace Yatzy
{
    public partial class Form1 : Form
    {
        public Form1()
        {
            InitializeComponent();
        }

        public Yatzy mitYatzy = new Yatzy();
        public Baeger mitBaeger = new Baeger(); // her newer man en instans af en klasse op, så man kan connecte en classe ind i formen. Dette gør, at klassen nu er brugbar i nedenstående.
        

        private void buttonKastTerninger_Click(object sender, EventArgs e) // Dette er knappen Kaster Terninger
        {

            TurTæller();

            mitBaeger.RystBaeger();                                     // her kalder vi metode RystBaeger, som vi har erklæret inde i bæger. Den er brugbar, fordi vi har "new'et" den up inde i denne klasse.
            richTextBoxTerning1.Text = mitBaeger.Terning1.Øjne.ToString();  // her henviser vi til teksten i tekstboksen for den første terning. Vi beder den indeholde bægerets øjne pr. terning og konvertere to string.
            richTextBoxTerning2.Text = mitBaeger.Terning2.Øjne.ToString();
            richTextBoxTerning3.Text = mitBaeger.Terning3.Øjne.ToString();
            richTextBoxTerning4.Text = mitBaeger.Terning4.Øjne.ToString();
            richTextBoxTerning5.Text = mitBaeger.Terning5.Øjne.ToString();
        }

        private void checkBoxHold1_CheckedChanged(object sender, EventArgs e)
        {
            if (checkBoxHold1.Checked == true)    //metode for at holde terning1 -- dette er en kontrolstruktur (?)
                mitBaeger.Terning1.HoldTerning();   //kalder metode inde fra terningen, som instruerer i at holde på terningen
            else
            {
                mitBaeger.Terning1.TagTerningMed(); // kalder metode inde fra terningen, som instruerer i at tage terningen med. 
            }
        }

        private void checkBoxHold2_CheckedChanged(object sender, EventArgs e)
        {
            if (checkBoxHold2.Checked == true)    //metode for at holde terning1
                mitBaeger.Terning2.HoldTerning();
            else
            {
                mitBaeger.Terning2.TagTerningMed();
            }
        }

        private void checkBoxHold3_CheckedChanged(object sender, EventArgs e)
        {
            if (checkBoxHold3.Checked == true)    //metode for at holde terning1
                mitBaeger.Terning3.HoldTerning();
            else
            {
                mitBaeger.Terning3.TagTerningMed();
            }
        }

        private void checkBoxHold4_CheckedChanged(object sender, EventArgs e)
        {
            if (checkBoxHold4.Checked == true)    //metode for at holde terning1
                mitBaeger.Terning4.HoldTerning();
            else
            {
                mitBaeger.Terning4.TagTerningMed();
            }
        }

        private void checkBoxHold5_CheckedChanged(object sender, EventArgs e)
        {
            if (checkBoxHold5.Checked == true)    //metode for at holde terning1
                mitBaeger.Terning5.HoldTerning();
            else
            {
                mitBaeger.Terning5.TagTerningMed();
            }
        }

        private void buttonNytSpil_Click(object sender, EventArgs e)
        {
            
        }

        private void listBoxMuligheder_SelectedIndexChanged(object sender, EventArgs e)
        {
            listBoxMuligheder.Items.Add("Ettere");  // Brug switchcases
            listBoxMuligheder.Items.Add("Toere");
            listBoxMuligheder.Items.Add("Treere");
            listBoxMuligheder.Items.Add("Firere");
            listBoxMuligheder.Items.Add("Femmere");
            listBoxMuligheder.Items.Add("Seksere");
            listBoxMuligheder.Items.Add("Et par");
            listBoxMuligheder.Items.Add("To par");
            listBoxMuligheder.Items.Add("Tre ens");
            listBoxMuligheder.Items.Add("Fire ens");
            listBoxMuligheder.Items.Add("Fuld hus");
            listBoxMuligheder.Items.Add("Lille trappe");
            listBoxMuligheder.Items.Add("Stor trappe");
            listBoxMuligheder.Items.Add("Chancen");
            listBoxMuligheder.Items.Add("Yatzy");
        }

        private int SpillerNr = 1;
        private int AntalSlagTilbage = 3;
        

        public void TurTæller()
        { 
            if (AntalSlagTilbage == 0)
            {
                buttonKastTerninger.Enabled = false;
                if (SpillerNr == 4)
                    SpillerNr = 1;
                else { SpillerNr = SpillerNr +1; }
            }
            else { AntalSlagTilbage = AntalSlagTilbage - 1; }

            textBoxVisAktivSpiller.Text = mitYatzy._spiller1.Navn.ToString();
            textBoxVisKastTilbage.Text = AntalSlagTilbage.ToString();

        }

        public void textBoxSpiller1_TextChanged(object sender, EventArgs e)
        {
            textBoxSpiller1.Text = mitYatzy._spiller1.Navn;
        }
    }
}
